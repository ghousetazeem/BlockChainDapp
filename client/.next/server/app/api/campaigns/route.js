"use strict";(()=>{var e={};e.id=25,e.ids=[25],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},9796:e=>{e.exports=require("zlib")},3416:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>w});var r={};a.r(r),a.d(r,{GET:()=>GET,POST:()=>POST}),a(5655);var n=a(3323),i=a(4647),o=a(8617),s=a(6886),u=a(4239);async function GET(e){try{let{contract:t}=(0,u.Z)(),a=await t.getCampaigns(),r=new URL(e.url),n=r.searchParams.get("owner");n&&(a=a.filter(e=>e.owner===n));let i=a.map((e,t)=>({id:t,owner:e.owner,title:e.title,description:e.description,imageUrl:e.imageUrl,target:o.dF(e.target.toString()),deadline:Number(e.deadline),collectedAmount:o.dF(e.collectedAmount.toString()),withdrawedAmount:o.dF(e.withdrawedAmount.toString()),donations:e.donations.map(e=>({donator:e.donator,amount:o.dF(e.amount.toString())}))}));return s.Z.json({campaigns:i},{status:200})}catch(e){return s.Z.json({},{status:500,statusText:"Somethings went wrong."})}}async function POST(e){try{let{contract:t}=(0,u.Z)(),{title:a,description:r,imageUrl:n,target:i,deadline:o}=await e.json();return await t.createCampaign(a,r,n,i,o,{gasLimit:1e6}),s.Z.json({},{status:201,statusText:"Campaign created successfully."})}catch(e){return s.Z.json({},{status:500,statusText:"Somethings went wrong."})}}let p=n.AppRouteRouteModule,d=new p({definition:{kind:i.x.APP_ROUTE,page:"/api/campaigns/route",pathname:"/api/campaigns",filename:"route",bundlePath:"app/api/campaigns/route"},resolvedPagePath:"H:\\CrowdfundingDapp\\Decentralized-CrowdFundingApp\\client\\src\\app\\api\\campaigns\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:g,serverHooks:l,headerHooks:m,staticGenerationBailout:w}=d,x="/api/campaigns/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[882,118,727,886,617,239],()=>__webpack_exec__(3416));module.exports=a})();