"use strict";exports.id=617,exports.ids=[617],exports.modules={8617:(e,t,i)=>{i.d(t,{dF:()=>formatEther});var r=i(4679),n=i(743),l=i(8406),s=i(6021);let a=BigInt(-1),u=BigInt(0),h=BigInt(1),o=BigInt(5),m={},d="0000";for(;d.length<80;)d+=d;function getTens(e){let t=d;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function checkValue(e,t,i){let n=BigInt(t.width);if(t.signed){let t=h<<n-h;(0,r.hu)(null==i||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e}),e=e>u?(0,l._Y)((0,l.sS)(e,n),n):-(0,l._Y)((0,l.sS)(-e,n),n)}else{let t=h<<n;(0,r.hu)(null==i||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e}),e=(e%t+t)%t&t-h}return e}function getFormat(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,i=128,n=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else{let l=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,r.en)(l,"invalid fixed format","format",e),t="u"!==l[1],i=parseInt(l[2]),n=parseInt(l[3])}}else if(e){let l=e,check=(e,t,i)=>null==l[e]?i:((0,r.en)(typeof l[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,l[e]),l[e]);t=check("signed","boolean",t),i=check("width","number",i),n=check("decimals","number",n)}(0,r.en)(i%8==0,"invalid FixedNumber width (not byte aligned)","format.width",i),(0,r.en)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let l=(t?"":"u")+"fixed"+String(i)+"x"+String(n);return{signed:t,width:i,decimals:n,name:l}}let fixednumber_FixedNumber=class fixednumber_FixedNumber{#e;#t;#i;constructor(e,t,i){(0,r.NK)(e,m,"FixedNumber"),this.#t=t,this.#e=i;let n=function(e,t){let i="";e<u&&(i="-",e*=a);let r=e.toString();if(0===t)return i+r;for(;r.length<=t;)r=d+r;let n=r.length-t;for(r=r.substring(0,n)+"."+r.substring(n);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return i+r}(t,i.decimals);(0,s.h)(this,{format:i.name,_value:n}),this.#i=getTens(i.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){(0,r.en)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#n(e,t){return e=checkValue(e,this.#e,t),new fixednumber_FixedNumber(m,e,this.#e)}#l(e,t){return this.#r(e),this.#n(this.#t+e.#t,t)}addUnsafe(e){return this.#l(e)}add(e){return this.#l(e,"add")}#s(e,t){return this.#r(e),this.#n(this.#t-e.#t,t)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,t){return this.#r(e),this.#n(this.#t*e.#t/this.#i,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);let t=this.#t*e.#t;return(0,r.hu)(t%this.#i===u,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#n(t/this.#i,"mulSignal")}#u(e,t){return(0,r.hu)(e.#t!==u,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#n(this.#t*this.#i/e.#t,t)}divUnsafe(e){return this.#u(e)}div(e){return this.#u(e,"div")}divSignal(e){(0,r.hu)(e.#t!==u,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);let t=this.#t*this.#i;return(0,r.hu)(t%e.#t===u,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#n(t/e.#t,"divSignal")}cmp(e){let t=this.value,i=e.value,r=this.decimals-e.decimals;return(r>0?i*=getTens(r):r<0&&(t*=getTens(-r)),t<i)?-1:t>i?1:0}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<u&&(e-=this.#i-h),e=this.#t/this.#i*this.#i,this.#n(e,"floor")}ceiling(){let e=this.#t;return this.#t>u&&(e+=this.#i-h),e=this.#t/this.#i*this.#i,this.#n(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,i=o*getTens(t-1),r=this.value+i,n=getTens(t);return checkValue(r=r/n*n,this.#e,"round"),new fixednumber_FixedNumber(m,r,this.#e)}isZero(){return this.#t===u}isNegative(){return this.#t<u}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return fixednumber_FixedNumber.fromString(this.toString(),e)}static fromValue(e,t,i){let n=null==t?0:(0,l.Dx)(t),s=getFormat(i),a=(0,l.yT)(e,"value"),h=n-s.decimals;if(h>0){let t=getTens(h);(0,r.hu)(a%t===u,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=t}else h<0&&(a*=getTens(-h));return checkValue(a,s,"fromValue"),new fixednumber_FixedNumber(m,a,s)}static fromString(e,t){let i=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,r.en)(i&&i[2].length+i[3].length>0,"invalid FixedNumber string value","value",e);let n=getFormat(t),l=i[2]||"0",s=i[3]||"";for(;s.length<n.decimals;)s+=d;(0,r.hu)(s.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,n.decimals);let a=BigInt(i[1]+l+s);return checkValue(a,n,"fromString"),new fixednumber_FixedNumber(m,a,n)}static fromBytes(e,t){let i=(0,l.Gh)((0,n.Pw)(e,"value")),r=getFormat(t);return r.signed&&(i=(0,l._Y)(i,r.width)),checkValue(i,r,"fromBytes"),new fixednumber_FixedNumber(m,i,r)}};let f=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatEther(e){return function(e,t){let i=18;if("string"==typeof t){let e=f.indexOf(t);(0,r.en)(e>=0,"invalid unit","unit",t),i=3*e}else null!=t&&(i=(0,l.Dx)(t,"unit"));return fixednumber_FixedNumber.fromValue(e,i,{decimals:i,width:512}).toString()}(e,18)}}};