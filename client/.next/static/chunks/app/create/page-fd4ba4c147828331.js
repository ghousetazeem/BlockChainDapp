(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{2070:function(e,t,a){Promise.resolve().then(a.bind(a,3035))},3035:function(e,t,a){"use strict";a.r(t);var l=a(7437),n=a(3605),r=a(2265),i=a(3159),d=a(1674),s=a(9638),o=a(171);t.default=()=>{let{signer:e,contract:t,connectWallet:a}=(0,s.useEthersContext)(),[m,c]=(0,r.useState)(!1),[h,u]=(0,r.useState)({title:"",description:"",imageUrl:"",target:"",deadline:""}),handleFormInputChange=(e,t)=>{u({...h,[e]:t.target.value})},handleSubmit=async l=>{if(l.preventDefault(),!h.title||!h.description||!h.imageUrl||!h.target||!h.deadline)return o.toast.error("Please fill all the fields");if(!e)return a();try{c(!0);let{title:e,description:a,imageUrl:l}=h,r=n.vz(h.target,18).toString(),i=new Date(h.deadline).getTime();await t.createCampaign(e,a,l,r,i,{gasLimit:1e6})}catch(e){o.toast.error("Campaign couldn't be created.")}finally{c(!1)}o.toast.success("Campaign created successfully."),handleReset()},handleReset=()=>{u({title:"",description:"",imageUrl:"",target:"",deadline:""})};return(0,l.jsxs)("main",{className:"w-full bg-neutral-800 rounded-lg min-h-[calc(100vh-96px)]",children:[(0,l.jsx)("div",{className:"m-auto w-content flex justify-center items-center p-4",children:(0,l.jsx)("h1",{className:"bg-neutral-700 py-4 px-8 text-2xl font-semibold rounded-lg text-center w-content mx-auto",children:"Start a Campaign"})}),(0,l.jsxs)("form",{className:"p-4 flex flex-col gap-4 min-h-[calc(100vh-192px)]",onSubmit:handleSubmit,children:[(0,l.jsxs)("div",{className:"flex-col flex md:flex-row gap-4",children:[(0,l.jsx)(d.yt,{label:"Campaign Title",placeholder:"Write a title...",type:"text",value:h.title,onChange:e=>handleFormInputChange("title",e)}),(0,l.jsx)(d.yt,{label:"Image URL",placeholder:"Paste campaign image URL here...",type:"text",value:h.imageUrl,onChange:e=>handleFormInputChange("imageUrl",e)})]}),(0,l.jsx)(d.yt,{label:"Story",placeholder:"Write why you need this money...",type:"textarea",value:h.description,onChange:e=>handleFormInputChange("description",e)}),(0,l.jsxs)("div",{className:"flex items-center justify-around gap-4 bg-emerald-500 p-4 md:p-8 rounded-lg text-emerald-300",children:[(0,l.jsx)(i.$$w,{className:"text-5xl"}),(0,l.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:"You will get 99% of the raised amount"}),(0,l.jsx)(i.$$w,{className:"text-5xl"})]}),(0,l.jsxs)("div",{className:"flex-col flex md:flex-row gap-4",children:[(0,l.jsx)(d.yt,{label:"Goal (ETH)",placeholder:"Write your goal amount...",type:"number",value:h.target,onChange:e=>handleFormInputChange("target",e)}),(0,l.jsx)(d.yt,{label:"Deadline",placeholder:"Pick a deadline...",type:"date",value:h.deadline,onChange:e=>handleFormInputChange("deadline",e)})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-4 mt-auto",children:[(0,l.jsx)(d.Hd,{loading:m,className:"w-28 bg-emerald-500 border-2 border-emerald-500 hover:border-emerald-600 hover:bg-emerald-600 transition-all duration-200 p-3 rounded-lg font-semibold",onClick:handleSubmit,type:"submit",children:"Create"}),(0,l.jsx)(d.Hd,{className:"w-28 bg-transparent border-2 text-emerald-500 hover:text-white border-emerald-500 hover:border-emerald-600 hover:bg-emerald-600 transition-all duration-200 p-3 rounded-lg font-semibold",onClick:handleReset,children:"Reset"})]})]})]})}}},function(e){e.O(0,[465,582,447,929,420,115,982,964,585,840,971,864,744],function(){return e(e.s=2070)}),_N_E=e.O()}]);